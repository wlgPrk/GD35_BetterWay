<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="E">
<select id="EstaList" resultType="hashmap">
SELECT ST.SUBWAY_STATION_NAME, SE.ELEV_COUNT, SE.ESCA_COUNT, SE.MOVINGWALK_COUNT,SE.WCHAIR_LIFT_COUNT, SE.MV_SAFE_FOOT_COUNT, SE.WCHAIR_CHARGER_COUNT,
SE.DISABLED_TOILET_COUNT, SE.VOICE_INDUCER_COUNT
FROM SUBWAY_STATION_ESTA SE
INNER JOIN  
(SELECT S.SUBWAY_STATION_INCODE, S.SUBLINE_NO,S.SUBWAY_STATION_NAME
FROM
SUBWAY_STATION S) ST
ON SE.SUBWAY_STATION_INCODE = ST.SUBWAY_STATION_INCODE
WHERE ST.SUBLINE_NO = #{line}
</select>

<select id="happyList" resultType="hashmap">
SELECT HAPPY_NO, SUBWAY_STATION_INCODE, 
LOCATION, AREA, OPERATING_AGENCY, PHONE_NUM, DEL_STATUS
FROM HAPPY
WHERE 1=1
</select>

<select id="nursingRoomList" resultType="hashmap">
SELECT SUBWAY_STATION_NAME, MAIN_PHONE_NUM,ST.SUBLINE_NO,ES.NURSINGROOM
FROM SUBWAY_STATION ST RIGHT OUTER JOIN SUBWAY_STATION_ESTA ES
                        ON ST.SUBWAY_STATION_INCODE = ES.SUBWAY_STATION_INCODE
WHERE  ES.NURSINGROOM = 1
ORDER BY SUBLINE_NO ASC
</select>

<select id="wheelchairList" resultType="hashmap">
SELECT *
FROM NRWP_SPACING
ORDER BY NRWP_SPACING_NO ASC
</select>

<select id = "getToilet" resultType = "hashmap">
SELECT SS.SUBWAY_STATION_NAME,  SS.SUBWAY_STATION_INCODE,  SS.SUBLINE_NO
FROM SUBWAY_STATION SS INNER JOIN
TOILET T ON SS.SUBWAY_STATION_INCODE = T.SUBWAY_STATION_INCODE
WHERE SS.SUBLINE_NO = #{line}

</select>
</mapper>